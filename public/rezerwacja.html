<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Umów wizytę – Valivio</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <style>
    /* ——— Styl tylko dla tej podstrony rezerwacji ——— */
    .book-grid{display:grid;grid-template-columns:1.4fr 1fr;gap:24px}
    @media (max-width:960px){.book-grid{grid-template-columns:1fr}}
    .dates-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
      gap:12px;
    }
    .slot-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:10px}

    .date-btn,.slot-btn{
      border:1px solid var(--border); background:#fff; color:#111;
      border-radius:12px; padding:10px 12px; text-align:center; cursor:pointer
    }
    .date-btn.active,.slot-btn.active{outline:2px solid #000; outline-offset:1px}
    .btn[disabled]{opacity:.5; pointer-events:none}
    .btn.accent{background:var(--accent); border-color:var(--accent); color:var(--accent-ink)}

    /* Filtr miesiąca nad listą dat */
    .month-filter{display:flex; gap:8px; align-items:center; margin:8px 0 12px}
    .month-filter label{font-weight:600}
    #monthSelect{padding:8px; border-radius:8px; border:1px solid var(--border)}

    /* Uporządkowany układ i spójne rozmiary w kafelkach dat */
    .date-btn{
      display:flex; flex-direction:column; align-items:center; gap:4px; text-align:center;
    }
    .date-btn .date-dow{
      display:block; font-weight:700; font-size:.9rem; text-transform:capitalize; opacity:.75;
    }
    .date-btn .date-day{
      display:block; font-size:1rem; font-weight:600; line-height:1.1;
    }
    .date-btn .date-meta{
      display:block; font-size:1rem; color:var(--muted); line-height:1.1;
    }

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.25);opacity:0;pointer-events:none;transition:.2s;z-index:40}
    .modal-backdrop.show{opacity:1;pointer-events:auto}
    .modal{position:fixed;inset:0;display:grid;place-items:center;opacity:0;pointer-events:none;transition:.2s;z-index:41}
    .modal.show{opacity:1;pointer-events:auto}
    .modal-card{background:#fff;border:1px solid var(--border);border-radius:14px;max-width:520px;width:92vw;padding:20px}
    .modal-card .btn{margin-top:12px}
  </style>
</head>
<body>

  <!-- NAV (ten sam co na stronie głównej) -->
  <header>
    <div class="container nav">
      <a class="brand" href="index.html"><span class="mark">V</span> Valivio</a>
      <nav class="navlinks">
        <a href="index.html#dla-kogo">Dla kogo</a>
        <a href="index.html#proces">Jak pracuję</a>
        <a href="index.html#oferta">Oferta</a>
        <a href="index.html#faq">FAQ</a>
        <a href="index.html#kontakt">Kontakt</a>
        <a href="about.html">O mnie</a>
      </nav>
      <a class="navcta" href="rezerwacja.html">Umów konsultację</a>
    </div>
  </header>

  <main>
    <section id="book" class="tint-blue">
      <div class="container" id="bookMount">
        <div class="section-head">
          <h2 class="h2">Rezerwacja terminu</h2>
          <p>Wybierz miesiąc, potem dzień i godzinę. (Płatność online dodamy w kolejnym etapie.)</p>
        </div>

        <div class="book-grid">
          <!-- Lewa kolumna: dostępne dni + filtr miesiąca -->
          <div class="card">
            <h3 class="h3">Wybierz dzień</h3>

            <!-- NOWE: filtr wg miesiąca -->
            <div class="month-filter">
              <label for="monthSelect">Miesiąc:</label>
              <select id="monthSelect"></select>
            </div>

            <div id="dates" class="dates-grid">
              <!-- wypełnia app.js / loadBooking() -->
            </div>
          </div>

          <!-- Prawa kolumna: godziny + podsumowanie -->
          <div class="card">
            <h3 class="h3">Wybierz godzinę</h3>
            <div id="slots" class="slot-grid"></div>
            <hr class="mt-12" />
            <p id="summaryText" class="meta">Nie wybrano terminu.</p>
            <button id="payBtn" class="btn accent" disabled>Kontynuuj do potwierdzenia</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal potwierdzenia -->
  <div id="payBackdrop" class="modal-backdrop"></div>
  <div id="payModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="payTitle">
    <div class="modal-card">
      <h3 id="payTitle" class="h3">Rezerwacja zapisana</h3>
      <p id="payInfo" class="mt-8">Termin: —</p>
      <p class="meta">W kolejnym kroku dołączymy płatność online. Teraz otrzymasz potwierdzenie na ekranie.</p>
      <button id="payClose" class="btn">Zamknij</button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p class="fine">© <span id="year">2025</span> Valivio. Wszystkie prawa zastrzeżone.</p>
    </div>
  </footer>

  <script src="assets/app.js"></script>
</body>
</html>
